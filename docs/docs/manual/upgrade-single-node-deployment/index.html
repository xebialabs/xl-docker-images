<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<title data-react-helmet="true">Upgrade Single node deployment | DevOps Platform Docker Images</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://xebialabs.github.io/xl-docker-images/docs/manual/upgrade-single-node-deployment"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Upgrade Single node deployment | DevOps Platform Docker Images"><meta data-react-helmet="true" name="description" content="If you want to upgrade a single node instance of XL Release or XL Deploy using Docker follow these steps,"><meta data-react-helmet="true" property="og:description" content="If you want to upgrade a single node instance of XL Release or XL Deploy using Docker follow these steps,"><link data-react-helmet="true" rel="shortcut icon" href="/xl-docker-images/img/digital_ai_deploy.svg"><link data-react-helmet="true" rel="canonical" href="https://xebialabs.github.io/xl-docker-images/docs/manual/upgrade-single-node-deployment"><link data-react-helmet="true" rel="alternate" href="https://xebialabs.github.io/xl-docker-images/docs/manual/upgrade-single-node-deployment" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xebialabs.github.io/xl-docker-images/docs/manual/upgrade-single-node-deployment" hreflang="x-default"><link rel="stylesheet" href="/xl-docker-images/assets/css/styles.22a8eaea.css">
<link rel="preload" href="/xl-docker-images/assets/js/runtime~main.626af313.js" as="script">
<link rel="preload" href="/xl-docker-images/assets/js/main.25785e07.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/xl-docker-images/"><div class="navbar__logo"><img src="/xl-docker-images/img/digital_ai_deploy.svg" alt="DevOps Platform Docker Images Digital.ai" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/xl-docker-images/img/digital_ai_deploy.svg" alt="DevOps Platform Docker Images Digital.ai" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">DevOps Platform Docker Images</b></a><a class="navbar__item navbar__link navbar__link--active" href="/xl-docker-images/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/xebialabs/xl-docker-images" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xl-docker-images/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xl-docker-images/docs/prerequisites">Prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xl-docker-images/docs/generating">Generating the Dockerfiles for a new version of the DevOps Platform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xl-docker-images/docs/building">Building Docker images from generated Dockerfiles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Configuration</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/xl-docker-images/docs/manual/environment-variables">Environment variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/xl-docker-images/docs/manual/volumes">Working with Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/xl-docker-images/docs/manual/customisation">Dockerfile customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/xl-docker-images/docs/manual/single-node-deployment">Single node deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/xl-docker-images/docs/manual/upgrade-single-node-deployment">Upgrade Single node deployment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Deploy HA</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Release HA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/xl-docker-images/docs/manual/k8s_development_versions">Using development version images with minikube</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Upgrade Single node deployment</h1></header><p>If you want to upgrade a single node instance of XL Release or XL Deploy using Docker follow these steps,</p><ol><li>Make sure to read our docs for upgrade and release notes for each version you want to upgrade to.</li><li>Stop current running instances of the docker container which have the old versions that need to be upgraded.</li><li>Start new docker container with new tag which represents the version you want to upgrade to. Consider these points:<ul><li>Include all volumes already being used with old docker images. In case of &quot;conf&quot; volume make sure also to update any configurations required by new version &quot;check release notes&quot; before mounting it to new version of the container.</li><li>Specify your DB connection details to point to old DB for example using env variables such as <code>XL_DB_URL</code></li><li>make sure to use <code>FORCE_UPGRADE</code> to be true in order to force upgrade by using flag <code>-force-upgrades</code></li></ul></li></ol><header><h1>Upgrade Single node XL Deploy deployment</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="docker-run">Docker run<a aria-hidden="true" class="hash-link" href="#docker-run" title="Direct link to heading">â€‹</a></h2><p>After stopping old XL Deploy docker container isntance, you can start the upgrade process using a new version through tag with the <code>docker run</code> command as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d  </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">FORCE_UPGRADE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p </span><span class="token number" style="color:#36acaa">4516</span><span class="token plain">:4516 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_DB_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;jdbc:postgresql://PsqlDbHost:5432/repo&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_DB_USERNAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">postgres </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_DB_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;password&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v ~/XebiaLabs/xl-deploy-server/conf:/opt/xebialabs/xl-deploy-server/conf </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v ~/XebiaLabs/xl-deploy-server/plugins:/opt/xebialabs/xl-deploy-server/plugins </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name xl-deploy xebialabs/xl-deploy:9.5.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will start the XL Deploy container, print out the container ID and detect that there is old version of XL Deploy then start the upgrade process. You can also find running containers using the <code>docker ps</code> command.</p><p>You can stream the logs from the container using <code>docker logs -f &lt;container id&gt;</code>.</p><p>Once the containers have started you can access them at http://localhost:4516/, you might want to wait for a minute for the service to be up and running</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="docker-compose">Docker compose<a aria-hidden="true" class="hash-link" href="#docker-compose" title="Direct link to heading">â€‹</a></h2><p>You can also use a docker-compose file to run XLD containers, see the below file for example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">xl-deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">9.5.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;4516:4516&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ~/XebiaLabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/conf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ~/XebiaLabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/lib</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ~/XebiaLabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> FORCE_UPGRADE=true \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_DB_URL=&quot;jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">postgresql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//PsqlDbHost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">5432/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deploy&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_DB_USERNAME=postgres \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_DB_PASSWORD=&quot;password&quot; \</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Save the above content to a file named <code>docker-compose.yml</code> in a folder and run <code>docker-compose up -d</code> from the same folder .. while starting it will detect that there is old version of XL Deploy then start upgrade</p><p>If you use a different file name, then run <code>docker-compose -f &lt;filename.yaml&gt; up -d</code></p><p>Once the containers have started you can access them at http://localhost:4516/, you might want to wait for a minute for the service to be up and running</p><header><h1>Upgrade Single node XL Release deployment</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="docker-run-1">Docker run<a aria-hidden="true" class="hash-link" href="#docker-run-1" title="Direct link to heading">â€‹</a></h2><p>After stopping old XL Release docker container You can start upgrade using new version through tag while running <code>docker run</code> command as follows,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d  </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">FORCE_UPGRADE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p </span><span class="token number" style="color:#36acaa">5516</span><span class="token plain">:5516 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_DB_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;jdbc:postgresql://PsqlDbHost:5432/repo&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_DB_USERNAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">postgres </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_DB_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;password&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_REPORT_DB_USERNAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">postgres </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#36acaa">XL_REPORT_DB_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;password&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v ~/XebiaLabs/xl-release-server/conf:/opt/xebialabs/xl-release-server/conf </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v ~/XebiaLabs/xl-release-server/hotfix/lib:/opt/xebialabs/xl-release-server/hotfix/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -v ~/XebiaLabs/xl-release-server/plugins:/opt/xebialabs/xl-release-server/plugins </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name xl-release xebialabs/xl-release:9.5.2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will start the XL Release container, print out the container ID and detect that there is old version of XL Release then start upgrade process, you can also find running containers using the <code>docker ps</code> command.</p><p>You can stream the logs from the container using <code>docker logs -f &lt;container id&gt;</code>.</p><p>Once the containers have started, you can access them at http://localhost:5516/, you might want to wait for a minute for the service to be up and running.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="docker-compose-1">Docker compose<a aria-hidden="true" class="hash-link" href="#docker-compose-1" title="Direct link to heading">â€‹</a></h2><p>You can also use a docker-compose file to run XLR containers, see the below file for example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">xl-release</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">9.5.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5516:5516&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ~/XebiaLabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/conf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ~/XebiaLabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/lib</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ~/XebiaLabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/opt/xebialabs/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server/hotfix/plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> FORCE_UPGRADE=true \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_DB_URL=&quot;jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">postgresql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//PsqlDbHost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">5432/xl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_DB_USERNAME=postgres \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_DB_PASSWORD=&quot;password&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_REPORT_DB_USERNAME=postgres \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> XL_REPORT_DB_PASSWORD=&quot;password&quot; \</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Save the above content to a file named <code>docker-compose.yml</code> in a folder and run <code>docker-compose up -d</code> from the same folder. At startup, the process will detect that there is an older version of XL Release then start the upgrade process.</p><p>If you use a different file name, then run <code>docker-compose -f &lt;filename.yaml&gt; up -d</code></p><p>Once the containers have started, you can access them at http://localhost:5516/, you might want to wait for a minute for the service to be up and running.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/xl-docker-images/docs/manual/single-node-deployment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Single node deployment</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/xl-docker-images/docs/manual/xl-deploy-ha/README"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">XL Deploy active-active cluster setup with docker compose<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#docker-run" class="table-of-contents__link toc-highlight">Docker run</a></li><li><a href="#docker-compose" class="table-of-contents__link toc-highlight">Docker compose</a></li><li><a href="#docker-run-1" class="table-of-contents__link toc-highlight">Docker run</a></li><li><a href="#docker-compose-1" class="table-of-contents__link toc-highlight">Docker compose</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/xl-docker-images/docs/intro">Tutorial</a></li><li class="footer__item"><a href="https://github.com/xebialabs/xl-docker-images" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 DevOps Platform Docker Images Digital.ai</div></div></div></footer></div>
<script src="/xl-docker-images/assets/js/runtime~main.626af313.js"></script>
<script src="/xl-docker-images/assets/js/main.25785e07.js"></script>
</body>
</html>