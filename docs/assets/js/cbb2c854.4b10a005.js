"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[557],{3905:function(e,n,o){o.d(n,{Zo:function(){return c},kt:function(){return m}});var t=o(7294);function a(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function r(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function l(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){a(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function i(e,n){if(null==e)return{};var o,t,a=function(e,n){if(null==e)return{};var o,t,a={},r=Object.keys(e);for(t=0;t<r.length;t++)o=r[t],n.indexOf(o)>=0||(a[o]=e[o]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)o=r[t],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var s=t.createContext({}),p=function(e){var n=t.useContext(s),o=n;return e&&(o="function"==typeof e?e(n):l(l({},n),e)),o},c=function(e){var n=p(e.components);return t.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var o=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(o),m=a,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return o?t.createElement(f,l(l({ref:n},c),{},{components:o})):t.createElement(f,l({ref:n},c))}));function m(e,n){var o=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=o.length,l=new Array(r);l[0]=u;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var p=2;p<r;p++)l[p]=o[p];return t.createElement.apply(null,l)}return t.createElement.apply(null,o)}u.displayName="MDXCreateElement"},2492:function(e,n,o){o.r(n),o.d(n,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return u}});var t=o(7462),a=o(3366),r=(o(7294),o(3905)),l=["components"],i={sidebar_position:4},s="Single node deployment",p={unversionedId:"manual/single-node-deployment",id:"manual/single-node-deployment",isDocsHomePage:!1,title:"Single node deployment",description:"If you want to run a single node instance of XL Release or XL Deploy using Docker follow this steps.",source:"@site/docs/manual/single-node-deployment.md",sourceDirName:"manual",slug:"/manual/single-node-deployment",permalink:"/xl-docker-images/docs/manual/single-node-deployment",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Dockerfile customization",permalink:"/xl-docker-images/docs/manual/customisation"},next:{title:"Upgrade Single node deployment",permalink:"/xl-docker-images/docs/manual/upgrade-single-node-deployment"}},c=[{value:"Docker run",id:"docker-run",children:[],level:2},{value:"Docker compose",id:"docker-compose",children:[],level:2},{value:"Docker run",id:"docker-run-1",children:[],level:2},{value:"Docker compose",id:"docker-compose-1",children:[],level:2}],d={toc:c};function u(e){var n=e.components,o=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,t.Z)({},d,o,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"single-node-deployment"},"Single node deployment"),(0,r.kt)("p",null,"If you want to run a single node instance of XL Release or XL Deploy using Docker follow this steps."),(0,r.kt)("h1",{id:"single-node-xl-deploy-deployment"},"Single node XL Deploy deployment"),(0,r.kt)("h2",{id:"docker-run"},"Docker run"),(0,r.kt)("p",null,"You can run the official XLD docker images from XebiaLabs using the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker run")," command as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -d  \\\n  -e ADMIN_PASSWORD=admin \\\n  -e ACCEPT_EULA=Y \\\n  -p 4516:4516 \\\n  --name xl-deploy xebialabs/xl-deploy:9.5.0\n")),(0,r.kt)("p",null,"This will start the XL Deploy container and print out the container ID, you can also find running containers using the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker ps")," command. You can pass more environment variables to the command using -e flags."),(0,r.kt)("p",null,"You can stream the logs from the container using ",(0,r.kt)("inlineCode",{parentName:"p"},"docker logs -f <container id>"),"."),(0,r.kt)("p",null,"You can mount volumes if required, while executing the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker run")," command as shown below.\n",(0,r.kt)("strong",{parentName:"p"},"Note:")," In our example we are mounting configurations and hotfix from local volumes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -d  \\\n  -e ADMIN_PASSWORD=admin \\\n  -e ACCEPT_EULA=Y \\\n  -p 4516:4516 \\\n  -v ~/XebiaLabs/xl-deploy-server/conf:/opt/xebialabs/xl-deploy-server/conf \\\n  -v ~/XebiaLabs/xl-deploy-server/hotfix/lib:/opt/xebialabs/xl-deploy-server/hotfix/lib \\\n  -v ~/XebiaLabs/xl-deploy-server/hotfix/plugins:/opt/xebialabs/xl-deploy-server/hotfix/plugins \\\n  --name xl-deploy xebialabs/xl-deploy:9.5.0\n")),(0,r.kt)("p",null,"Once the containers have started, you can access them at http://localhost:4516/, you might want to wait for a minute for the service to be up and running."),(0,r.kt)("h2",{id:"docker-compose"},"Docker compose"),(0,r.kt)("p",null,"You can also use a docker-compose file to run XLD containers, as shown in the example below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'version: "2"\nservices:\n  xl-deploy:\n    image: xebialabs/xl-deploy:9.5.0\n    container_name: xl-deploy\n    ports:\n      - "4516:4516"\n    volumes:\n      - ~/XebiaLabs/xl-deploy-server/conf:/opt/xebialabs/xl-deploy-server/conf\n      - ~/XebiaLabs/xl-deploy-server/hotfix/lib:/opt/xebialabs/xl-deploy-server/hotfix/lib\n      - ~/XebiaLabs/xl-deploy-server/hotfix/plugins:/opt/xebialabs/xl-deploy-server/hotfix/plugins\n    environment:\n      - ADMIN_PASSWORD=admin\n      - ACCEPT_EULA=Y\n')),(0,r.kt)("p",null,"Save the above content to a file named ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," in a folder and run ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose up -d")," from the same folder."),(0,r.kt)("p",null,"If you use a different file name, then run ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose -f <filename.yaml> up -d")),(0,r.kt)("p",null,"Once the containers have started, you can access them at http://localhost:4516/, you might want to wait for a minute for the service to be up and running."),(0,r.kt)("h1",{id:"single-node-xl-release-deployment"},"Single node XL Release deployment"),(0,r.kt)("h2",{id:"docker-run-1"},"Docker run"),(0,r.kt)("p",null,"You can run the official XLR docker images from XebiaLabs using the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker run")," command as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -d  \\\n  -e ADMIN_PASSWORD=admin \\\n  -e ACCEPT_EULA=Y \\\n  -p 5516:5516 \\\n  --name xl-release xebialabs/xl-release:9.5.0\n")),(0,r.kt)("p",null,"This will start the XL Release container and print out the container ID. You can also find running containers using the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker ps")," command. You can also pass more environment variables to the command using -e flags."),(0,r.kt)("p",null,"You can stream the logs from the container using ",(0,r.kt)("inlineCode",{parentName:"p"},"docker logs -f <container id>")),(0,r.kt)("p",null,"You can mount volumes if required, while executing the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker run")," command as shown below.\n",(0,r.kt)("strong",{parentName:"p"},"Note:")," In our example we are mounting configurations and hotfix from local volumes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -d  \\\n  -e ADMIN_PASSWORD=admin \\\n  -e ACCEPT_EULA=Y \\\n  -p 5516:5516 \\\n  -v ~/XebiaLabs/xl-release-server/conf:/opt/xebialabs/xl-release-server/conf \\\n  -v ~/XebiaLabs/xl-release-server/hotfix/:/opt/xebialabs/xl-release-server/hotfix/ \\\n  --name xl-release xebialabs/xl-release:9.5.0\n")),(0,r.kt)("p",null,"Once the containers have started, you can access them at http://localhost:5516/, you might want to wait for a minute for the service to be up and running."),(0,r.kt)("h2",{id:"docker-compose-1"},"Docker compose"),(0,r.kt)("p",null,"You can also use a docker-compose file to run XLR containers, as shown in the example below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'version: "2"\nservices:\n  xl-release:\n    image: xebialabs/xl-release:9.5.0\n    container_name: xl-release\n    ports:\n      - "5516:5516"\n    volumes:\n      - ~/XebiaLabs/xl-release-server/conf:/opt/xebialabs/xl-release-server/conf\n      - ~/XebiaLabs/xl-release-server/hotfix/:/opt/xebialabs/xl-release-server/hotfix/\n    environment:\n      - ADMIN_PASSWORD=admin\n      - ACCEPT_EULA=Y\n')),(0,r.kt)("p",null,"Save the above content to a file named ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," in a folder and run ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose up -d")," from the same folder."),(0,r.kt)("p",null,"If you use a different file name, then run ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose -f <filename.yaml> up -d")),(0,r.kt)("p",null,"Once the containers have started, you can access them at http://localhost:5516/, you might want to wait for a minute for the service to be up and running."),(0,r.kt)("h1",{id:"single-node-xl-deploy-and-xl-release-deployment"},"Single node XL Deploy and XL Release deployment"),(0,r.kt)("p",null,"If you want to run a single node instance of both the products you can use docker compose file shown below, to do so."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'version: "2"\nservices:\n  xl-deploy:\n    image: xebialabs/xl-deploy:9.5.0\n    container_name: xl-deploy\n    ports:\n      - "4516:4516"\n    volumes:\n      - ~/XebiaLabs/xl-deploy-server/conf:/opt/xebialabs/xl-deploy-server/conf\n      - ~/XebiaLabs/xl-deploy-server/hotfix/lib:/opt/xebialabs/xl-deploy-server/hotfix/lib\n      - ~/XebiaLabs/xl-deploy-server/hotfix/plugins:/opt/xebialabs/xl-deploy-server/hotfix/plugins\n    environment:\n      - ADMIN_PASSWORD=admin\n      - ACCEPT_EULA=Y\n\n  xl-release:\n    image: xebialabs/xl-release:9.5.0\n    container_name: xl-release\n    ports:\n      - "5516:5516"\n    links:\n      - xl-deploy\n    volumes:\n      - ~/XebiaLabs/xl-release-server/conf:/opt/xebialabs/xl-release-server/conf\n      - ~/XebiaLabs/xl-release-server/hotfix/:/opt/xebialabs/xl-release-server/hotfix/\n    environment:\n      - ADMIN_PASSWORD=admin\n      - ACCEPT_EULA=Y\n')),(0,r.kt)("p",null,"Once the containers have started, you can access XL Deploy at http://localhost:4516/ and XL Release at http://localhost:5516/. You might want to wait for a minute for the services to be up and running."),(0,r.kt)("p",null,"When running XLR and XLD with docker, you might want to configure an XLD instance on XLR for deployment tasks. Go to ",(0,r.kt)("strong",{parentName:"p"},"Settings")," > ",(0,r.kt)("strong",{parentName:"p"},"Shared configuration")," > ",(0,r.kt)("strong",{parentName:"p"},"XL Deploy server")," click the + icon to add a new configuration and fill in the following details and click ",(0,r.kt)("strong",{parentName:"p"},"test")," and then ",(0,r.kt)("strong",{parentName:"p"},"save"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Title"),": xl-deploy-docker\n",(0,r.kt)("strong",{parentName:"p"},"URL"),": http://xl-deploy:4516\n",(0,r.kt)("strong",{parentName:"p"},"Username"),": admin\n",(0,r.kt)("strong",{parentName:"p"},"Password"),": admin"),(0,r.kt)("p",null,"You can leave other fields empty. You can use a different admin password."))}u.isMDXComponent=!0}}]);